v2:~(|package-named--is @style ~(_import @util-functions_) ~(_bind--to @livecode-setup &"n"(|~(|style:set-font-for--to ~(|style:set-font-size-for--to ~(_style:set-padding-for--to @n #50_) #100|) $"Arial"|)|)_) ~(_bind--to @clip--to-top--right--bottom--left &" nex top% right% bottom% left%"(|~(|style:set-style--to-value--in-nex $"clip-path" ~(|concatenate-strings $"inset(" ~(_to-string ~(_round ~(_::ti:: %100 @top_)_)_) $"% " ~(_to-string ~(_round ~(_::ti:: %100 @right_)_)_) $"% " ~(_to-string ~(_round ~(_::ti:: %100 @bottom_)_)_) $"% " ~(_to-string ~(_round ~(_::ti:: %100 @left_)_)_) $"%)"|) @nex|)|)_) ~(_bind--to @hide &" nex"(|~(_style:set-style--to-value--in-nex $"visibility" $"hidden" @nex_) ~(_style:set-style--to-value--in-nex $"display" $"flex" @nex_)|)_) ~(_bind--to @vanish &" nex"(|~(_style:set-style--to-value--in-nex $"display" $"none" @nex_)|)_) ~(_bind--to @show &" nex"(|~(_style:set-style--to-value--in-nex $"visibility" $"visible" @nex_) ~(_style:set-style--to-value--in-nex $"display" $"flex" @nex_)|)_) ~(_bind--to @set-line-height-for--to &" nex val$"(|~(_style:set-style--to-value--in-nex $"line-height" @val @nex_)|)_) ~(_bind--to @translate--by-x--and-y &" nex xpix#% ypix#%"(|~(|style:set-style--to-value--in-nex $"transform" ~(_concatenate-strings $"translate(" ~(_to-string @xpix_) $"px," ~(_to-string @ypix_) $"px)"_) @nex|)|)_) ~(_bind--to @stretch--horizontally-by &" nex xstretch%"(|[doc](|[line](_[word](_[letter]"S" [letter]"t" [letter]"r" [letter]"e" [letter]"t" [letter]"c" [letter]"h" [letter]"e" [letter]"s"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"n" [letter]"e" [letter]"x"_) [separator]" " [word](_[letter]"o" [letter]"u" [letter]"t"_) [separator]" " [word](_[letter]"a" [letter]"l" [letter]"o" [letter]"n" [letter]"g"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"x"_) [separator]" " [word](_[letter]"a" [letter]"x" [letter]"i" [letter]"s"_) [separator]" " [word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"a" [letter]"d" [letter]"d" [letter]"s"_) [separator]" " [word](_[letter]"m" [letter]"a" [letter]"r" [letter]"g" [letter]"i" [letter]"n" [letter]"s"_) [separator]" " [word](_[letter]"s" [letter]"o"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"a" [letter]"t"_) [separator]" " [word](_[letter]"i" [letter]"t"_) [separator]" " [word](_[letter]"w" [letter]"i" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"s" [letter]"t" [letter]"i" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"f" [letter]"l" [letter]"o" [letter]"w"_)_) [line](_[word](_[letter]"c" [letter]"o" [letter]"r" [letter]"r" [letter]"e" [letter]"c" [letter]"t" [letter]"l" [letter]"y"_) [separator]" " [word](_[letter]"i" [letter]"n"_) [separator]" " [word](_[letter]"l" [letter]"i" [letter]"n" [letter]"e"_) [separator]" " [word](_[letter]"w" [letter]"i" [letter]"t" [letter]"h"_) [separator]" " [word](_[letter]"o" [letter]"t" [letter]"h" [letter]"e" [letter]"r"_) [separator]" " [word](_[letter]"t" [letter]"e" [letter]"x" [letter]"t"_) [separator]"."_)|) ~(_let--be @get-required-right-margin &" nex"(|~(_let--be @original-width ~(_get-pixel-width @nex_)_) ~(_let--be @required-right-margin ~(_- ~(_::ti:: @original-width @xstretch_) @original-width_)_) @required-right-margin|)_) ~(_let--be @set-style-for-nex &" nex"(|~(|style:set-style--to-value--in-nex $"margin-right" ~(_concatenate-strings ~(_to-string ~(_get-required-right-margin @nex_)_) $"em"_) ~(|style:set-style--to-value--in-nex $"transform-origin" $"top left" ~(|style:set-style--to-value--in-nex $"transform" ~(_concatenate-strings $"scale(" ~(_to-string @xstretch_) $", 1)"_) @nex|)|)|)|)_) ~(_ff--with ~(_set-contents-changed ~(_push--into @nex *(__)_)_) &" n"(|~(_set-style-for-nex @n_)|)_) ~(_set-style-for-nex @nex_)|)_) ~(_bind--to @stretch--vertically-by &" nex ystretch%"(|[doc](|[line](_[word](_[letter]"S" [letter]"t" [letter]"r" [letter]"e" [letter]"t" [letter]"c" [letter]"h" [letter]"e" [letter]"s"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"n" [letter]"e" [letter]"x"_) [separator]" " [word](_[letter]"o" [letter]"u" [letter]"t"_) [separator]" " [word](_[letter]"a" [letter]"l" [letter]"o" [letter]"n" [letter]"g"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"y"_) [separator]" " [word](_[letter]"a" [letter]"x" [letter]"i" [letter]"s"_) [separator]" " [word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"a" [letter]"d" [letter]"d" [letter]"s"_) [separator]" " [word](_[letter]"m" [letter]"a" [letter]"r" [letter]"g" [letter]"i" [letter]"n" [letter]"s"_) [separator]" " [word](_[letter]"s" [letter]"o"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"a" [letter]"t"_) [separator]" " [word](_[letter]"i" [letter]"t"_) [separator]" " [word](_[letter]"w" [letter]"i" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"s" [letter]"t" [letter]"i" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"f" [letter]"l" [letter]"o" [letter]"w"_)_) [line](_[word](_[letter]"c" [letter]"o" [letter]"r" [letter]"r" [letter]"e" [letter]"c" [letter]"t" [letter]"l" [letter]"y"_) [separator]" " [word](_[letter]"i" [letter]"n"_) [separator]" " [word](_[letter]"l" [letter]"i" [letter]"n" [letter]"e"_) [separator]" " [word](_[letter]"w" [letter]"i" [letter]"t" [letter]"h"_) [separator]" " [word](_[letter]"o" [letter]"t" [letter]"h" [letter]"e" [letter]"r"_) [separator]" " [word](_[letter]"t" [letter]"e" [letter]"x" [letter]"t"_) [separator]"."_)|) ~(_let--be @margin-em ~(_- @ystretch %1_)_) ~(|style:set-style--to-value--in-nex $"margin-bottom" ~(_concatenate-strings ~(_to-string @margin-em_) $"em"_) ~(|style:set-style--to-value--in-nex $"margin-top" ~(_concatenate-strings ~(_to-string @margin-em_) $"em"_) ~(|style:set-style--to-value--in-nex $"transform" ~(_concatenate-strings $"scale(1, " ~(_to-string @ystretch_) $")"_) @nex|)|)|)|)_) ~(_bind--to @align-right &" nex"(|~(_style:set-style--to-value--in-nex $"align-items" $"flex-end" @nex_)|)_) ~(_bind--to @align-left &" nex"(|~(_style:set-style--to-value--in-nex $"align-items" $"flex-start" @nex_)|)_) ~(_bind--to @align-center &" nex"(|~(_style:set-style--to-value--in-nex $"align-center" $"flex-start" @nex_)|)_) ~(_bind--to @push-center &" nex"(|~(_style:set-style--to-value--in-nex $"justify-content" $"center" @nex_)|)_) ~(_bind--to @push-left &" nex"(|~(_style:set-style--to-value--in-nex $"justify-content" $"left" @nex_)|)_) ~(_bind--to @push-right &" nex"(|~(_style:set-style--to-value--in-nex $"justify-content" $"right" @nex_)|)_) ~(_bind--to @clip-contents &" nex"(|~(_style:set-style--to-value--in-nex $"overflow" $"hidden" @nex_)|)_) ~(_bind--to @turn-scrollbars-on &" nex"(|~(_style:set-style--to-value--in-nex $"overflow" $"scroll" @nex_)|)_) ~(_bind--to @offset-x-of--by &" nex val#%"(|~(|style:set-style--to-value--in-nex $"left" ~(_concatenate-strings ~(_to-string @val_) $"px"_) ~(_style:set-style--to-value--in-nex $"position" $"relative" @nex_)|)|)_) ~(_bind--to @offset-y-of--by &" nex val#%"(|~(|style:set-style--to-value--in-nex $"top" ~(_concatenate-strings ~(_to-string @val_) $"px"_) ~(_style:set-style--to-value--in-nex $"position" $"relative" @nex_)|)|)_) ~(_bind--to @set-alpha-for--to &" nex val%"(|~(_style:set-style--to-value--in-nex $"opacity" ~(_to-string @val_) @nex_)|)_) ~(_bind--to @set-padding-for--to &" nex val#%"(|~(_style:set-padding-for--to-top--right--bottom--left @nex @val @val @val @val_)|)_) ~(_bind--to @set-bottom-padding-for--to &" nex val#%"(|~(_style:set-style--to-value--in-nex $"padding-bottom" ~(|concatenate-strings ~(_to-string @val_) $"px"|) @nex_)|)_) ~(_bind--to @set-top-padding-for--to &" nex val#%"(|~(_style:set-style--to-value--in-nex $"padding-top" ~(|concatenate-strings ~(_to-string @val_) $"px"|) @nex_)|)_) ~(_bind--to @set-left-padding-for--to &" nex val#%"(|~(_style:set-style--to-value--in-nex $"padding-left" ~(|concatenate-strings ~(_to-string @val_) $"px"|) @nex_)|)_) ~(_bind--to @set-right-padding-for--to &" nex val#%"(|~(_style:set-style--to-value--in-nex $"padding-right" ~(|concatenate-strings ~(_to-string @val_) $"px"|) @nex_)|)_) ~(_bind--to @set-padding-for--to-top--right--bottom--left &" nex t#% r#% b#% l#%"(|~(|style:set-left-padding-for--to ~(|style:set-right-padding-for--to ~(|style:set-top-padding-for--to ~(|style:set-bottom-padding-for--to @nex @b|) @t|) @r|) @l|)|)_) ~(_bind--to @set-background-color-for--to &" nex color$"(|~(_style:set-style--to-value--in-nex $"background-color" @color @nex_)|)_) ~(_bind--to @set-height-for--to &" nex height#%"(|~(_style:set-style--to-value--in-nex $"height" ~(|concatenate-strings ~(_to-string @height_) $"px"|) @nex_)|)_) ~(_bind--to @set-height-for--to--percent &" nex height#%"(|~(_style:set-style--to-value--in-nex $"height" ~(|concatenate-strings ~(_to-string @height_) $"%"|) @nex_)|)_) ~(_bind--to @set-width-for--to &" nex width#%"(|~(_style:set-style--to-value--in-nex $"width" ~(|concatenate-strings ~(_to-string @width_) $"px"|) @nex_)|)_) ~(_bind--to @set-width-for--to--percent &" nex width#%"(|~(_style:set-style--to-value--in-nex $"width" ~(|concatenate-strings ~(_to-string @width_) $"%"|) @nex_)|)_) ~(_bind--to @set-scale-for--to &" nex scale%"(|~(_style:set-style--to-value--in-nex $"transform" ~(|concatenate-strings $"scale(" ~(_to-string @scale_) $"," ~(_to-string @scale_) $")"|) @nex_)|)_) ~(_bind--to @set-transform-origin-for--to-x--and-y &" nex xorigin% yorigin%"(|[doc](|[line](_[word](_[letter]"x" [letter]"o" [letter]"r" [letter]"i" [letter]"g" [letter]"i" [letter]"n"_) [separator]" " [word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"y" [letter]"o" [letter]"r" [letter]"i" [letter]"g" [letter]"i" [letter]"n"_) [separator]" " [word](_[letter]"s" [letter]"h" [letter]"o" [letter]"u" [letter]"l" [letter]"d"_) [separator]" " [word](_[letter]"b" [letter]"e"_) [separator]" " [word](_[letter]"g" [letter]"i" [letter]"v" [letter]"e" [letter]"n"_) [separator]" " [word](_[letter]"a" [letter]"s"_) [separator]" " [word](_[letter]"f" [letter]"l" [letter]"o" [letter]"a" [letter]"t" [letter]"s"_) [separator]" " [word](_[letter]"f" [letter]"r" [letter]"o" [letter]"m"_) [separator]" " [word](_[letter]"0"_) [separator]" " [word](_[letter]"t" [letter]"o"_) [separator]" " [word](_[letter]"1"_) [separator]","_) [line](_[word](_[letter]"w" [letter]"h" [letter]"e" [letter]"r" [letter]"e"_) [separator]" " [word](_[letter]"0"_) [separator]" " [word](_[letter]"m" [letter]"e" [letter]"a" [letter]"n" [letter]"s"_) [separator]" " [separator]{"} [word](_[letter]"a" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"w" [letter]"a" [letter]"y"_) [separator]" " [word](_[letter]"l" [letter]"e" [letter]"f" [letter]"t"_) [separator]"/" [word](_[letter]"t" [letter]"o" [letter]"p"_) [separator]{"} [separator]" " [word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"1"_) [separator]" " [word](_[letter]"m" [letter]"e" [letter]"a" [letter]"n" [letter]"s"_)_) [line](_[separator]{"} [word](_[letter]"a" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"w" [letter]"a" [letter]"y"_) [separator]" " [word](_[letter]"r" [letter]"i" [letter]"g" [letter]"h" [letter]"t"_) [separator]"/" [word](_[letter]"b" [letter]"o" [letter]"t" [letter]"t" [letter]"o" [letter]"m"_) [separator]{"} [separator]"."_)|) ~(_style:set-style--to-value--in-nex $"transform-origin" ~(|concatenate-strings ~(_to-string ~(_::ti:: %100 @xorigin_)_) $"%" $" " ~(_to-string ~(_::ti:: %100 @yorigin_)_) $"%"|) @nex_)|)_) ~(_bind--to @flip-horizontally &" nex"(|~(_use @util_) ~(_let--be @stylestring ~(_style:get-value-of-style--in-nex $"transform" @nex_)_) ~(_set @stylestring ~(_if--then--else ~(_is-nil @stylestring_) $"scale(1,1)" @stylestring_)_) ~(_let--be @xform ~(_split-on--in-string $"," @stylestring_)_) ~(_let--be @horizhalf ~(_head @xform_)_) ~(_let--be @verthalf ~(_head ~(_tail @xform_)_)_) ~(_let--be @newstyle ~(|concatenate-strings ~(_if--then--else ~(_equal @horizhalf $"scale(1"_) $"scale(-1" $"scale(1"_) $"," @verthalf|)_) ~(_style:set-style--to-value--in-nex $"transform" @newstyle @nex_)|)_) ~(_bind--to @flip-vertically &" nex"(|~(_use @util_) ~(_let--be @stylestring ~(_style:get-value-of-style--in-nex $"transform" @nex_)_) ~(_set @stylestring ~(_if--then--else ~(_is-nil @stylestring_) $"scale(1,1)" @stylestring_)_) ~(_let--be @xform ~(_split-on--in-string $"," @stylestring_)_) ~(_let--be @horizhalf ~(_head @xform_)_) ~(_let--be @verthalf ~(_head ~(_tail @xform_)_)_) ~(_let--be @newstyle ~(|concatenate-strings @horizhalf $"," ~(_if--then--else ~(_equal @verthalf $"1)"_) $"-1)" $"1)"_)|)_) ~(_style:set-style--to-value--in-nex $"transform" @newstyle @nex_)|)_) ~(_bind--to @rotate--by--degrees &" nex by%"(|~(_style:set-style--to-value--in-nex $"transform" ~(_concatenate-strings $"rotate(" ~(_to-string @by_) $"deg)"_) @nex_)|)_) ~(_bind--to @italicize &" nex"(|~(_style:set-style--to-value--in-nex $"font-style" $"italic" @nex_)|)_) ~(_bind--to @bold &" nex"(|~(_style:set-style--to-value--in-nex $"font-weight" $"bold" @nex_)|)_) ~(_bind--to @set-light-font-weight &" nex"(|~(_style:set-style--to-value--in-nex $"font-weight" $"lighter" @nex_)|)_) ~(_bind--to @set-normal-font-weight &" nex"(|~(_style:set-style--to-value--in-nex $"font-weight" $"normal" @nex_)|)_) ~(_bind--to @set-no-italics-or-bold &" nex"(|~(_style:set-style--to-value--in-nex $"font-weight" $"normal" ~(_style:set-style--to-value--in-nex $"font-style" $"normal" @nex_)_)|)_) ~(_bind--to @set-color-for--to &" nex color$"(|~(_style:set-style--to-value--in-nex $"color" @color @nex_)|)_) ~(_bind--to @set-font-size-for--to &" nex size#%"(|~(_style:set-style--to-value--in-nex $"font-size" ~(_concatenate-strings ~(_to-string @size_) $"px"_) @nex_)|)_) ~(_bind--to @set-font-for--to &" nex fontname$"(|~(_style:set-style--to-value--in-nex $"font-family" @fontname @nex_)|)_) ~(_bind--to @lowercase &" nex"(|~(_style:set-style--to-value--in-nex $"text-transform" $"lowercase" @nex_)|)_) ~(_bind--to @uppercase &" nex"(|~(_style:set-style--to-value--in-nex $"text-transform" $"uppercase" @nex_)|)_) ~(_bind--to @get-value-of-style--in-nex &" stylename$ nex"(|~(_let--be @styletable ~(_style:parse-style-string ~(_get-style-from @nex_)_)_) ~(_util:get-value-for-key--in-table @stylename @styletable_)|)_) ~(_bind--to @set-style--to-value--in-nex &" stylename$ styleval$ nex"(|~(_let--be @styletable ~(_style:parse-style-string ~(_get-style-from @nex_)_)_) ~(_let--be @newstyletable ~(_style:add-key--and-value--to-style-table @stylename @styleval @styletable_)_) ~(_apply-css-style--to ~(_style:style-table--as-string @newstyletable_) @nex_)|)_) ~(_bind--to @parse-style-string &"() stylestring$"(|~(_map--with ~(|filter--with ~(_split-on--in-string $";" @stylestring_) &" str"(|~(_not ~(_is-empty-string @str_)_)|)|) &" item"(|~(_split-on--in-string $":" @item_)|)_)|)_) ~(_bind--to @add-key--and-value--to-style-table &" stylename$ styleval$ stylelist()"(|~(|util:add-key--and-value--to-table @stylename @styleval ~(_util:remove-all-entries-with-key--from-table @stylename @stylelist_)|)|)_) ~(_bind--to @style-table--as-string &"$ stylemap()"(|~(_join-strings--on ~(_map--with @stylemap &" item"(|~(_join-strings--on @item $":"_)|)_) $";"_)|)_) ~(_bind--to @copy-style-from--to &" src dst"(|~(_apply-css-style--to ~(_get-style-from @src_) @dst_)|)_)|)