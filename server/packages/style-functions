~"package"v( @style ~"import"h( @util-functions~) ~"bind"h( @with-clip-percent &" nex top% right% bottom% left%"v( ~"with-style-set-to"v( @nex $"clip-path" ~"string-cat"v( $"inset(" ~"to-string"h( ~"round"h( ~"*"h( %100 @top~)~)~) $"% " ~"to-string"h( ~"round"h( ~"*"h( %100 @right~)~)~) $"% " ~"to-string"h( ~"round"h( ~"*"h( %100 @bottom~)~)~) $"% " ~"to-string"h( ~"round"h( ~"*"h( %100 @left~)~)~) $"%)"~)~)&)~) ~"bind"h( @with-translate-x-y &" nex xpix#% ypix#%"v( ~"with-style-set-to"h( @nex $"transform" ~"string-cat"h( $"translate(" ~"to-string"h( @xpix~) $"px," ~"to-string"h( @ypix~) $"px)"~)~)&)~) ~"bind"h( @clips-contents &" nex"v( ~"with-style-set-to"h( @nex $"overflow" $"hidden"~)&)~) ~"bind"h( @with-scrollbars-on &" nex"v( ~"with-style-set-to"h( @nex $"overflow" $"scroll"~)&)~) ~"bind"h( @with-x-offset-of &" nex val#%"v( ~"with-style-set-to"v( ~"with-style-set-to"h( @nex $"position" $"relative"~) $"left" ~"string-cat"h( ~"to-string"h( @val~) $"px"~)~)&)~) ~"bind"h( @with-y-offset-of &" nex val#%"v( ~"with-style-set-to"v( ~"with-style-set-to"h( @nex $"position" $"relative"~) $"top" ~"string-cat"h( ~"to-string"h( @val~) $"px"~)~)&)~) ~"bind"h( @with-alpha-of &" nex val%"v( ~"with-style-set-to"h( @nex $"opacity" ~"to-string"h( @val~)~)&)~) ~"bind"h( @with-padding-of &" nex val#%"v( ~"with-trlb-padding-of"h( @nex @val @val @val @val~)&)~) ~"bind"h( @with-bottom-padding-of &" nex val#%"v( ~"with-style-set-to"h( @nex $"padding-bottom" ~"string-cat"h( ~"to-string"h( @val~) $"px"~)~)&)~) ~"bind"h( @with-top-padding-of &" nex val#%"v( ~"with-style-set-to"h( @nex $"padding-top" ~"string-cat"h( ~"to-string"h( @val~) $"px"~)~)&)~) ~"bind"h( @with-left-padding-of &" nex val#%"v( ~"with-style-set-to"h( @nex $"padding-left" ~"string-cat"h( ~"to-string"h( @val~) $"px"~)~)&)~) ~"bind"h( @with-right-padding-of &" nex val#%"v( ~"with-style-set-to"h( @nex $"padding-right" ~"string-cat"h( ~"to-string"h( @val~) $"px"~)~)&)~) ~"bind"h( @with-trlb-padding-of &" nex t#% r#% b#% l#%"v( ~"with-left-padding-of"v( ~"with-right-padding-of"v( ~"with-top-padding-of"v( ~"with-bottom-padding-of"v( @nex @b~) @t~) @r~) @l~)&)~) ~"bind"h( @with-background-color-of &" nex color$"v( ~"with-style-set-to"h( @nex $"background-color" @color~)&)~) ~"bind"h( @with-height-of &" nex height#%"v( ~"with-style-set-to"h( @nex $"height" ~"string-cat"h( ~"to-string"h( @height~) $"px"~)~)&)~) ~"bind"h( @with-width-of &" nex width#%"v( ~"with-style-set-to"h( @nex $"width" ~"string-cat"h( ~"to-string"h( @width~) $"px"~)~)&)~) ~"bind"h( @with-scale &" nex scale%"v( ~"with-style-set-to"h( @nex $"transform" ~"string-cat"h( $"scale(" ~"to-string"h( @scale~) $"," ~"to-string"h( @scale~) $")"~)~)&)~) ~"bind"h( @with-transform-origin-x-y &" nex xorigin% yorigin%"v( ~"with-style-set-to"h( @nex $"transform-origin" ~"string-cat"v( ~"to-string"h( @xorigin~) $"%" $" " ~"to-string"h( @yorigin~) $"%"~)~)&)~) ~"bind"h( @flipped-horizontally &" nex"v( ~"use"h( @string~) ~"use"h( @util~) ~"let"h( @stylestring ~"get-value-for-style"h( @nex $"transform"~)~) ~"set"h( @stylestring ~"if"h( ~"is-nil"h( @stylestring~) $"scale(1,1)" @stylestring~)~) ~"let"h( @xform ~"string-split-on"h( @stylestring $","~)~) ~"let"h( @horizhalf ~"car"h( @xform~)~) ~"let"h( @verthalf ~"cadr"h( @xform~)~) ~"let"h( @newstyle ~"string-cat"v( ~"if"h( ~"equal"h( @horizhalf $"scale(1"~) $"scale(-1" $"scale(1"~) $"," @verthalf~)~) ~"with-style-set-to"h( @nex $"transform" @newstyle~)&)~) ~"bind"h( @flipped-vertically &" nex"v( ~"use"h( @string~) ~"use"h( @util~) ~"let"h( @stylestring ~"get-value-for-style"h( @nex $"transform"~)~) ~"set"h( @stylestring ~"if"h( ~"is-nil"h( @stylestring~) $"scale(1,1)" @stylestring~)~) ~"let"h( @xform ~"split-on"h( @stylestring $","~)~) ~"let"h( @horizhalf ~"car"h( @xform~)~) ~"let"h( @verthalf ~"cadr"h( @xform~)~) ~"let"h( @newstyle ~"string-cat"v( @horizhalf $"," ~"if"h( ~"equal"h( @verthalf $"1)"~) $"-1)" $"1)"~)~)~) ~"with-style-set-to"h( @nex $"transform" @newstyle~)&)~) ~"bind"h( @italicized &" nex"v( ~"with-style-set-to"h( @nex $"font-style" $"italic"~)&)~) ~"bind"h( @bolded &" nex"v( ~"with-style-set-to"h( @nex $"font-weight" $"bold"~)&)~) ~"bind"h( @with-text-in-color &" nex color$"v( ~"with-style-set-to"h( @nex $"color" @color~)&)~) ~"bind"h( @with-text-in-size &" nex size#%"v( ~"with-style-set-to"h( @nex $"font-size" ~"string-cat"h( ~"to-string"h( @size~) $"px"~)~)&)~) ~"bind"h( @with-light-weight &" nex"v( ~"with-style-set-to"h( @nex $"font-weight" $"lighter"~)&)~) ~"bind"h( @with-font &" nex fontname$"v( ~"with-style-set-to"h( @nex $"font-family" @fontname~)&)~) ~"bind"h( @lowercased &" nex"v( ~"with-style-set-to"h( @nex $"text-transform" $"lowercase"~)&)~) ~"bind"h( @uppercased &" nex"v( ~"with-style-set-to"h( @nex $"text-transform" $"uppercase"~)&)~) ~"bind"h( @get-value-for-style &" nex stylename$"v( ~"let"h( @styletable ~"parse-style-string"h( ~"get-css-style-from"h( @nex~)~)~) ~"lookup-key-in"h( @stylename @styletable~)&)~) ~"bind"h( @with-style-set-to &" nex stylename$ styleval$"v( ~"let"h( @styletable ~"parse-style-string"h( ~"get-css-style-from"h( @nex~)~)~) ~"let"h( @newstyletable ~"add-style-key-value-to"h( @stylename @styleval @styletable~)~) ~"apply-css-style-to"h( ~"to-style-string"h( @newstyletable~) @nex~)&)~) ~"bind"h( @add-style-key-value-to &" stylename$ styleval$ stylelist()"v( ~"use"h( @util~) ~"add-key-value-to"h( @stylename @styleval ~"remove-all-entries-with-key-from"h( @stylename @stylelist~)~)&)~) ~"bind"h( @parse-style-string &" stylestring$"v( ~"map-with"h( ~"filter-with"v( ~"string-split-on"h( @stylestring $";"~) &" str"v( ~"not"h( ~"equal"h( @str $""~)~)&)~) &" item"v( ~"string-split-on"h( @item $":"~)&)~)&)~) ~"bind"h( @to-style-string &" stylemap()"v( ~"string-join-on"h( ~"map-with"h( @stylemap &" item"v( ~"string-join-on"h( @item $":"~)&)~) $";"~)&)~) ~"bind"h( @with-same-style-as &" dst src"v( ~"apply-css-style-to"h( ~"get-css-style-from"h( @src~) @dst~)&)~)~)