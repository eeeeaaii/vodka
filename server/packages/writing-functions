v2:~(|package @writing ~(_import @style-functions_) ~(_import @animation-functions_) ~(_import @math-functions_) ~(_bind @cycle &" list()"(|~(_let @n ~"math:random-float-between and"(_#1000 #3000_)_) ~(_cycle-every @list @n_)|)_) ~(_bind @cycle-every &" list() interval#"(|~(_let @len ~(_list-length @list_)_) ~(_animation:do-on-every-with-param &" n p"(|~(_let @index ~(_modulo @p @len_)_) ~(_list-get @list @index_)|) ~(_car @list_) @interval_)|)_) ~(_bind @random-item-from &" lst()"(|~(_let @length ~(_list-length @lst_)_) ~(_let @n ~(_to-integer ~(_::ti:: @length ~(_random _)_)_)_) ~(_list-get @lst @n_)|)_) ~(_bind @flicker &"* nex"(|~(|animation:do-on-every &" n"(|~(_let @r ~(_random _)_) ~(_let @opacity ~(|if ~(_::gt:: @r %0.45_) %1 ~(|if ~(_::gt:: @r %0.15_) %0.75 %0.2|)|)_) ~"style:set-alpha-for to"(_@n @opacity_)|) @nex #100|)|)_) ~(_bind @bottom-mask-nex-by &" n amount%"(|~(_let @nexheight ~(_get-pixel-height @n_)_) ~(_let @nexwidth ~(_get-pixel-width @n_)_) ~(_let @maskheight ~(_::ti:: @amount @nexheight_)_) ~(_let @mask ~"style:offset-y-of by"(|~"style:set-background-color-for to"(|~"style:set-height-for to"(|~"style:set-width-for to"(_[word](__) @nexwidth_) @maskheight|) $"#ffffff"|) ~(_- @nexheight @maskheight_)|)_) ~(_cons @n ~(_cons @mask (,,)_)_)|)_) ~(_bind @top-mask-nex-by &" n amount%"(|~(_let @nexheight ~(_get-pixel-height @n_)_) ~(_let @nexwidth ~(_get-pixel-width @n_)_) ~(_let @maskheight ~(_::ti:: @amount @nexheight_)_) ~(_let @mask ~"style:set-background-color-for to"(|~"style:set-height-for to"(|~"style:set-width-for to"(_[word](__) @nexwidth_) @maskheight|) $"#ffffff"|)_) ~(_cons @n ~(_cons @mask (,,)_)_)|)_) ~(_bind @vertical-wipe &" nex newfgcolor$ newbgcolor$"(|~(_let @nexheight ~(_get-pixel-height @nex_)_) ~(_let @nexwidth ~(_get-pixel-width @nex_)_) ~(_let @container ~"style:set-height-for to"(_~"style:set-width-for to"(_[word](__) @nexwidth_) @nexheight_)_) ~(_let @newnex ~"style:set-color-for to"(|~"style:set-background-color-for to"(|~(_copy @nex_) @newbgcolor|) @newfgcolor|)_) ~(_cons @newnex ~(_cons @nex @container_)_)|)_) ~(_bind @with-random-x-y &" nex width#% height#%"(|~(_let @x ~(_random-from-to #0 @width_)_) ~(_let @y ~(_random-from-to #0 @height_)_) ~"style:set-left-padding-for to"(_~"style:set-top-padding-for to"(_@nex @y_) @x_)|)_)|)