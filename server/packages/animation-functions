v2:~(|package @animation ~(_import @style-functions_) ~(_bind @FPS #20_) ~(_bind @do-on-every &"f& nex interval#"(|[doc](|[line](_[word](_[letter]"R" [letter]"u" [letter]"n" [letter]"s"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"F"_) [separator]" " [word](_[letter]"f" [letter]"u" [letter]"n" [letter]"c" [letter]"t" [letter]"i" [letter]"o" [letter]"n"_) [separator]" " [word](_[letter]"o" [letter]"n"_) [separator]" " [word](_[letter]"N" [letter]"E" [letter]"X"_) [separator]" " [word](_[letter]"e" [letter]"v" [letter]"e" [letter]"r" [letter]"y"_) [separator]" " [word](_[letter]"I" [letter]"N" [letter]"T" [letter]"E" [letter]"R" [letter]"V" [letter]"A" [letter]"L"_) [separator]" " [word](_[letter]"m" [letter]"i" [letter]"l" [letter]"l" [letter]"i" [letter]"s" [letter]"e" [letter]"c" [letter]"o" [letter]"n" [letter]"d" [letter]"s"_) [separator]"."_)|) ~(_let @doframe &"n"(|*"doframe"(_~(_wait-for-delay @interval_)_) ~(_f @nex_)|)_) ~(_doframe @nex_)|)_) ~(_bind @do-on-every-with-param &"f& nex interval#"(|[doc](|[line](_[word](_[letter]"R" [letter]"u" [letter]"n" [letter]"s"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"F"_) [separator]" " [word](_[letter]"f" [letter]"u" [letter]"n" [letter]"c" [letter]"t" [letter]"i" [letter]"o" [letter]"n"_) [separator]" " [word](_[letter]"o" [letter]"n"_) [separator]" " [word](_[letter]"N" [letter]"E" [letter]"X"_) [separator]" " [word](_[letter]"e" [letter]"v" [letter]"e" [letter]"r" [letter]"y"_) [separator]" " [word](_[letter]"I" [letter]"N" [letter]"T" [letter]"E" [letter]"R" [letter]"V" [letter]"A" [letter]"L"_) [separator]" " [word](_[letter]"m" [letter]"i" [letter]"l" [letter]"l" [letter]"i" [letter]"s" [letter]"e" [letter]"c" [letter]"o" [letter]"n" [letter]"d" [letter]"s"_) [separator]"."_)|) ~(_let @p #-1_) ~(_let @doframe &"n"(|*"doframe"(_~(_wait-for-delay @interval_)_) ~(_set @p ~(_::pl:: @p #1_)_) ~(_f @nex @p_)|)_) ~(_doframe @nex_)|)_) ~(_bind @do-on-every-for &"f& nex interval# iterations#"(|[doc](|[line](_[word](_[letter]"R" [letter]"u" [letter]"n" [letter]"s"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"F"_) [separator]" " [word](_[letter]"f" [letter]"u" [letter]"n" [letter]"c" [letter]"t" [letter]"i" [letter]"o" [letter]"n"_) [separator]" " [word](_[letter]"o" [letter]"n"_) [separator]" " [word](_[letter]"N" [letter]"E" [letter]"X"_) [separator]" " [word](_[letter]"e" [letter]"v" [letter]"e" [letter]"r" [letter]"y"_) [separator]" " [word](_[letter]"I" [letter]"N" [letter]"T" [letter]"E" [letter]"R" [letter]"V" [letter]"A" [letter]"L"_) [separator]" " [word](_[letter]"m" [letter]"i" [letter]"l" [letter]"l" [letter]"i" [letter]"s" [letter]"e" [letter]"c" [letter]"o" [letter]"n" [letter]"d" [letter]"s"_) [separator]"."_)|) ~(_let @its #0_) ~(_let @r ~(_wait-forever _)_) ~(_let @doframe &"n"(|~(_set @its ~(_::pl:: @its #1_)_) ~(|if ~(_::lt:: @its @iterations_) *"doframe"(_~(_wait-for-delay @interval_)_) ~(_fulfill @r ~(_f @nex_)_)|) ~(_f @nex_)|)_) ~(_doframe @nex_) ~(_cram ~(_doframe @nex_) @r_)|)_) ~(_bind @animate-with-for-duration-of &"nex animatefunc& duration%"(|~(_let @delay-ms ~(_to-integer ~(_::ov:: %1000 @FPS_)_)_) ~(_let @num-frames ~(_::ti:: @duration @FPS_)_) ~(_let @increment ~(_::ov:: %1 @num-frames_)_) ~(_let @val %0_) ~(_do-on-every-for &" n"(|~(_set @val ~(_::pl:: @val @increment_)_) ~(_animatefunc @n @val_)|) @nex @delay-ms ~(_to-integer @num-frames_)_)|)_) ~(_bind @osc-pfont &"* nex pfontgen& from% to%"(|~(|do-on-every-with-param &" nex p"(|~(_let @sval ~(_::pl:: ~(_::ov:: ~(_sin ~(_::ov:: ~(_to-float @p_) %10_)_) %2_) %0.5_)_) ~(_let @val ~(_::pl:: ~(_::ti:: ~(_- @to @from_) @sval_) @from_)_) ~(_apply-pfont-to ~(_pfontgen @val_) @nex_)|) @nex #40|)|)_) ~(_bind @fade-in-for-seconds &"nex duration%"(|~(|animate-with-for-duration-of ~"style:set-alpha-for to"(_@nex %0_) &" nex val"(|~"style:set-alpha-for to"(_@nex @val_)|) @duration|)|)_) ~(_bind @fade-out-for-seconds &"* nex duration%"(|~(|animate-with-for-duration-of ~"style:set-alpha-for to"(_@nex %1_) &" nex val"(|~"style:set-alpha-for to"(_@nex ~(_- %1 @val_)_)|) @duration|)|)_) ~(_bind @fudge-interval &" interval#"(|~(_to-integer ~(_::ti:: ~(_to-float @interval_) ~(_::pl:: %0.9 ~(_::ti:: %0.2 ~(_random _)_)_)_)_)|)_) ~(_bind @fade-between &"thing1 thing2 fadetime% holdtime%"(|~(_let @holder (|#0|)_) ~(_let @replace &"n"(|~(_cram @n ~(_chomp @holder_)_)|)_) ~(_let @wait &(|~(_wait-for-delay ~(_to-integer ~(_::ti:: #1000 @holdtime_)_)_)|)_) ~(_let @restart &(|*"begin"(|~(_replace @thing1_) ~(_fade-in-for-seconds @thing1 @fadetime_) ~(_wait _) ~(_fade-out-for-seconds @thing1 @fadetime_) ~(_replace @thing2_) ~(_fade-in-for-seconds @thing2 @fadetime_) ~(_wait _) ~(_fade-out-for-seconds @thing2 @fadetime_) ~(_restart _)|) [nil]|)_) ~(_restart _) @holder|)_)|)