v2:*"package"(|@style ~(_import @table-functions_) ~"bind to"(_@clip--to-top--right--bottom--left &" nex top% right% bottom% left%"(|~"style:set-style to-value in-nex"(|$"clip-path" ~(|string-concatenate $"inset(" ~(_to-string ~(_round ~(_::ti:: %100 @top_)_)_) $"% " ~(_to-string ~(_round ~(_::ti:: %100 @right_)_)_) $"% " ~(_to-string ~(_round ~(_::ti:: %100 @bottom_)_)_) $"% " ~(_to-string ~(_round ~(_::ti:: %100 @left_)_)_) $"%)"|) @nex|)|)_) ~"bind to"(_@hide &" nex"(|~"style:set-style to-value in-nex"(_$"visibility" $"hidden" @nex_) ~"style:set-style to-value in-nex"(_$"display" $"flex" @nex_)|)_) ~"bind to"(_@vanish &" nex"(|~"style:set-style to-value in-nex"(_$"display" $"none" @nex_)|)_) ~"bind to"(_@show &" nex"(|~"style:set-style to-value in-nex"(_$"visibility" $"visible" @nex_) ~"style:set-style to-value in-nex"(_$"display" $"flex" @nex_)|)_) ~"bind to"(_@set-line-height-for--to &" nex val$"(|~"style:set-style to-value in-nex"(_$"line-height" @val @nex_)|)_) ~"bind to"(_@translate--by-x--and-y &" nex xpix#% ypix#%"(|~"style:set-style to-value in-nex"(|$"transform" ~(_string-concatenate $"translate(" ~(_to-string @xpix_) $"px," ~(_to-string @ypix_) $"px)"_) @nex|)|)_) ~"bind to"(_@stretch--horizontally-by &" nex xstretch%"(|[doc](|[line](_[word](_[letter]"S" [letter]"t" [letter]"r" [letter]"e" [letter]"t" [letter]"c" [letter]"h" [letter]"e" [letter]"s"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"n" [letter]"e" [letter]"x"_) [separator]" " [word](_[letter]"o" [letter]"u" [letter]"t"_) [separator]" " [word](_[letter]"a" [letter]"l" [letter]"o" [letter]"n" [letter]"g"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"x"_) [separator]" " [word](_[letter]"a" [letter]"x" [letter]"i" [letter]"s"_) [separator]" " [word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"a" [letter]"d" [letter]"d" [letter]"s"_) [separator]" " [word](_[letter]"m" [letter]"a" [letter]"r" [letter]"g" [letter]"i" [letter]"n" [letter]"s"_) [separator]" " [word](_[letter]"s" [letter]"o"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"a" [letter]"t"_) [separator]" " [word](_[letter]"i" [letter]"t"_) [separator]" " [word](_[letter]"w" [letter]"i" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"s" [letter]"t" [letter]"i" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"f" [letter]"l" [letter]"o" [letter]"w"_)_) [line](_[word](_[letter]"c" [letter]"o" [letter]"r" [letter]"r" [letter]"e" [letter]"c" [letter]"t" [letter]"l" [letter]"y"_) [separator]" " [word](_[letter]"i" [letter]"n"_) [separator]" " [word](_[letter]"l" [letter]"i" [letter]"n" [letter]"e"_) [separator]" " [word](_[letter]"w" [letter]"i" [letter]"t" [letter]"h"_) [separator]" " [word](_[letter]"o" [letter]"t" [letter]"h" [letter]"e" [letter]"r"_) [separator]" " [word](_[letter]"t" [letter]"e" [letter]"x" [letter]"t"_) [separator]"."_)|) ~"let be"(_@get-required-right-margin &" nex"(|~"let be"(_@original-width ~(_get-pixel-width @nex_)_) ~"let be"(_@required-right-margin ~(_- ~(_::ti:: @original-width @xstretch_) @original-width_)_) @required-right-margin|)_) ~"let be"(_@set-style-for-nex &" nex"(|~"style:set-style to-value in-nex"(|$"margin-right" ~(_string-concatenate ~(_to-string ~(_get-required-right-margin @nex_)_) $"em"_) ~"style:set-style to-value in-nex"(|$"transform-origin" $"top left" ~"style:set-style to-value in-nex"(|$"transform" ~(_string-concatenate $"scale(" ~(_to-string @xstretch_) $", 1)"_) @nex|)|)|)|)_) ~"ff with"(_~(_set-contents-changed ~"push into"(_@nex *(__)_)_) &" n"(|~(_set-style-for-nex @n_)|)_) ~(_set-style-for-nex @nex_)|)_) ~"bind to"(_@stretch--vertically-by &" nex ystretch%"(|[doc](|[line](_[word](_[letter]"S" [letter]"t" [letter]"r" [letter]"e" [letter]"t" [letter]"c" [letter]"h" [letter]"e" [letter]"s"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"n" [letter]"e" [letter]"x"_) [separator]" " [word](_[letter]"o" [letter]"u" [letter]"t"_) [separator]" " [word](_[letter]"a" [letter]"l" [letter]"o" [letter]"n" [letter]"g"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"y"_) [separator]" " [word](_[letter]"a" [letter]"x" [letter]"i" [letter]"s"_) [separator]" " [word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"a" [letter]"d" [letter]"d" [letter]"s"_) [separator]" " [word](_[letter]"m" [letter]"a" [letter]"r" [letter]"g" [letter]"i" [letter]"n" [letter]"s"_) [separator]" " [word](_[letter]"s" [letter]"o"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"a" [letter]"t"_) [separator]" " [word](_[letter]"i" [letter]"t"_) [separator]" " [word](_[letter]"w" [letter]"i" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"s" [letter]"t" [letter]"i" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"f" [letter]"l" [letter]"o" [letter]"w"_)_) [line](_[word](_[letter]"c" [letter]"o" [letter]"r" [letter]"r" [letter]"e" [letter]"c" [letter]"t" [letter]"l" [letter]"y"_) [separator]" " [word](_[letter]"i" [letter]"n"_) [separator]" " [word](_[letter]"l" [letter]"i" [letter]"n" [letter]"e"_) [separator]" " [word](_[letter]"w" [letter]"i" [letter]"t" [letter]"h"_) [separator]" " [word](_[letter]"o" [letter]"t" [letter]"h" [letter]"e" [letter]"r"_) [separator]" " [word](_[letter]"t" [letter]"e" [letter]"x" [letter]"t"_) [separator]"."_)|) ~"let be"(_@margin-em ~(_- @ystretch %1_)_) ~"style:set-style to-value in-nex"(|$"margin-bottom" ~(_string-concatenate ~(_to-string @margin-em_) $"em"_) ~"style:set-style to-value in-nex"(|$"margin-top" ~(_string-concatenate ~(_to-string @margin-em_) $"em"_) ~"style:set-style to-value in-nex"(|$"transform" ~(_string-concatenate $"scale(1, " ~(_to-string @ystretch_) $")"_) @nex|)|)|)|)_) ~"bind to"(_@align-right &" nex"(|~"style:set-style to-value in-nex"(_$"align-items" $"flex-end" @nex_)|)_) ~"bind to"(_@align-left &" nex"(|~"style:set-style to-value in-nex"(_$"align-items" $"flex-start" @nex_)|)_) ~"bind to"(_@align-center &" nex"(|~"style:set-style to-value in-nex"(_$"align-center" $"flex-start" @nex_)|)_) ~"bind to"(_@push-center &" nex"(|~"style:set-style to-value in-nex"(_$"justify-content" $"center" @nex_)|)_) ~"bind to"(_@push-left &" nex"(|~"style:set-style to-value in-nex"(_$"justify-content" $"left" @nex_)|)_) ~"bind to"(_@push-right &" nex"(|~"style:set-style to-value in-nex"(_$"justify-content" $"right" @nex_)|)_) ~"bind to"(_@clip-contents &" nex"(|~"style:set-style to-value in-nex"(_$"overflow" $"hidden" @nex_)|)_) ~"bind to"(_@turn-scrollbars-on &" nex"(|~"style:set-style to-value in-nex"(_$"overflow" $"scroll" @nex_)|)_) ~"bind to"(_@offset-x-of--by &" nex val#%"(|~"style:set-style to-value in-nex"(|$"left" ~(_string-concatenate ~(_to-string @val_) $"px"_) ~"style:set-style to-value in-nex"(_$"position" $"relative" @nex_)|)|)_) ~"bind to"(_@offset-y-of--by &" nex val#%"(|~"style:set-style to-value in-nex"(|$"top" ~(_string-concatenate ~(_to-string @val_) $"px"_) ~"style:set-style to-value in-nex"(_$"position" $"relative" @nex_)|)|)_) ~"bind to"(_@set-alpha-for--to &" nex val%"(|~"style:set-style to-value in-nex"(_$"opacity" ~(_to-string @val_) @nex_)|)_) ~"bind to"(_@set-padding-for--to &" nex val#%"(|~"style:set-padding-for to-top right bottom left"(_@nex @val @val @val @val_)|)_) ~"bind to"(_@set-bottom-padding-for--to &" nex val#%"(|~"style:set-style to-value in-nex"(_$"padding-bottom" ~(|string-concatenate ~(_to-string @val_) $"px"|) @nex_)|)_) ~"bind to"(_@set-top-padding-for--to &" nex val#%"(|~"style:set-style to-value in-nex"(_$"padding-top" ~(|string-concatenate ~(_to-string @val_) $"px"|) @nex_)|)_) ~"bind to"(_@set-left-padding-for--to &" nex val#%"(|~"style:set-style to-value in-nex"(_$"padding-left" ~(|string-concatenate ~(_to-string @val_) $"px"|) @nex_)|)_) ~"bind to"(_@set-right-padding-for--to &" nex val#%"(|~"style:set-style to-value in-nex"(_$"padding-right" ~(|string-concatenate ~(_to-string @val_) $"px"|) @nex_)|)_) ~"bind to"(_@set-padding-for--to-top--right--bottom--left &" nex t#% r#% b#% l#%"(|~"style:set-left-padding-for to"(|~"style:set-right-padding-for to"(|~"style:set-top-padding-for to"(|~"style:set-bottom-padding-for to"(|@nex @b|) @t|) @r|) @l|)|)_) ~"bind to"(_@set-background-color-for--to &" nex color$"(|~"style:set-style to-value in-nex"(_$"background-color" @color @nex_)|)_) ~"bind to"(_@set-height-for--to &" nex height#%"(|~"style:set-style to-value in-nex"(_$"height" ~(|string-concatenate ~(_to-string @height_) $"px"|) @nex_)|)_) ~"bind to"(_@set-height-for--to--percent &" nex height#%"(|~"style:set-style to-value in-nex"(_$"height" ~(|string-concatenate ~(_to-string @height_) $"%"|) @nex_)|)_) ~"bind to"(_@set-width-for--to &" nex width#%"(|~"style:set-style to-value in-nex"(_$"width" ~(|string-concatenate ~(_to-string @width_) $"px"|) @nex_)|)_) ~"bind to"(_@set-width-for--to--percent &" nex width#%"(|~"style:set-style to-value in-nex"(_$"width" ~(|string-concatenate ~(_to-string @width_) $"%"|) @nex_)|)_) ~"bind to"(_@set-scale-for--to &" nex scale%"(|~"style:set-style to-value in-nex"(_$"transform" ~(|string-concatenate $"scale(" ~(_to-string @scale_) $"," ~(_to-string @scale_) $")"|) @nex_)|)_) ~"bind to"(_@set-transform-origin-for--to-x--and-y &" nex xorigin% yorigin%"(|[doc](|[line](_[word](_[letter]"x" [letter]"o" [letter]"r" [letter]"i" [letter]"g" [letter]"i" [letter]"n"_) [separator]" " [word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"y" [letter]"o" [letter]"r" [letter]"i" [letter]"g" [letter]"i" [letter]"n"_) [separator]" " [word](_[letter]"s" [letter]"h" [letter]"o" [letter]"u" [letter]"l" [letter]"d"_) [separator]" " [word](_[letter]"b" [letter]"e"_) [separator]" " [word](_[letter]"g" [letter]"i" [letter]"v" [letter]"e" [letter]"n"_) [separator]" " [word](_[letter]"a" [letter]"s"_) [separator]" " [word](_[letter]"f" [letter]"l" [letter]"o" [letter]"a" [letter]"t" [letter]"s"_) [separator]" " [word](_[letter]"f" [letter]"r" [letter]"o" [letter]"m"_) [separator]" " [word](_[letter]"0"_) [separator]" " [word](_[letter]"t" [letter]"o"_) [separator]" " [word](_[letter]"1"_) [separator]","_) [line](_[word](_[letter]"w" [letter]"h" [letter]"e" [letter]"r" [letter]"e"_) [separator]" " [word](_[letter]"0"_) [separator]" " [word](_[letter]"m" [letter]"e" [letter]"a" [letter]"n" [letter]"s"_) [separator]" " [separator]{"} [word](_[letter]"a" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"w" [letter]"a" [letter]"y"_) [separator]" " [word](_[letter]"l" [letter]"e" [letter]"f" [letter]"t"_) [separator]"/" [word](_[letter]"t" [letter]"o" [letter]"p"_) [separator]{"} [separator]" " [word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"1"_) [separator]" " [word](_[letter]"m" [letter]"e" [letter]"a" [letter]"n" [letter]"s"_)_) [line](_[separator]{"} [word](_[letter]"a" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"w" [letter]"a" [letter]"y"_) [separator]" " [word](_[letter]"r" [letter]"i" [letter]"g" [letter]"h" [letter]"t"_) [separator]"/" [word](_[letter]"b" [letter]"o" [letter]"t" [letter]"t" [letter]"o" [letter]"m"_) [separator]{"} [separator]"."_)|) ~"style:set-style to-value in-nex"(_$"transform-origin" ~(|string-concatenate ~(_to-string ~(_::ti:: %100 @xorigin_)_) $"%" $" " ~(_to-string ~(_::ti:: %100 @yorigin_)_) $"%"|) @nex_)|)_) ~"bind to"(_@flip-horizontally &" nex"(|~(_use @util_) ~"let be"(_@stylestring ~"style:get-value-of-style in-nex"(_$"transform" @nex_)_) ~(_set @stylestring ~"if then else"(_~(_is-nil @stylestring_) $"scale(1,1)" @stylestring_)_) ~"let be"(_@xform ~"string-split on"(_@stylestring $","_)_) ~"let be"(_@horizhalf ~(_head @xform_)_) ~"let be"(_@verthalf ~(_head ~(_tail @xform_)_)_) ~"let be"(_@newstyle ~(|string-concatenate ~"if then else"(_~(_equal @horizhalf $"scale(1"_) $"scale(-1" $"scale(1"_) $"," @verthalf|)_) ~"style:set-style to-value in-nex"(_$"transform" @newstyle @nex_)|)_) ~"bind to"(_@flip-vertically &" nex"(|~(_use @util_) ~"let be"(_@stylestring ~"style:get-value-of-style in-nex"(_$"transform" @nex_)_) ~(_set @stylestring ~"if then else"(_~(_is-nil @stylestring_) $"scale(1,1)" @stylestring_)_) ~"let be"(_@xform ~"string-split on"(_@stylestring $","_)_) ~"let be"(_@horizhalf ~(_head @xform_)_) ~"let be"(_@verthalf ~(_head ~(_tail @xform_)_)_) ~"let be"(_@newstyle ~(|string-concatenate @horizhalf $"," ~"if then else"(_~(_equal @verthalf $"1)"_) $"-1)" $"1)"_)|)_) ~"style:set-style to-value in-nex"(_$"transform" @newstyle @nex_)|)_) ~"bind to"(_@rotate--by--degrees &" nex by%"(|~"style:set-style to-value in-nex"(_$"transform" ~(_string-concatenate $"rotate(" ~(_to-string @by_) $"deg)"_) @nex_)|)_) ~"bind to"(_@italicize &" nex"(|~"style:set-style to-value in-nex"(_$"font-style" $"italic" @nex_)|)_) ~"bind to"(_@bold &" nex"(|~"style:set-style to-value in-nex"(_$"font-weight" $"bold" @nex_)|)_) ~"bind to"(_@set-light-font-weight &" nex"(|~"style:set-style to-value in-nex"(_$"font-weight" $"lighter" @nex_)|)_) ~"bind to"(_@set-normal-font-weight &" nex"(|~"style:set-style to-value in-nex"(_$"font-weight" $"normal" @nex_)|)_) ~"bind to"(_@set-no-italics-or-bold &" nex"(|~"style:set-style to-value in-nex"(_$"font-weight" $"normal" ~"style:set-style to-value in-nex"(_$"font-style" $"normal" @nex_)_)|)_) ~"bind to"(_@set-color-for--to &" nex color$"(|~"style:set-style to-value in-nex"(_$"color" @color @nex_)|)_) ~"bind to"(_@set-font-size-for--to &" nex size#%"(|~"style:set-style to-value in-nex"(_$"font-size" ~(_string-concatenate ~(_to-string @size_) $"px"_) @nex_)|)_) ~"bind to"(_@set-font-for--to &" nex fontname$"(|~"style:set-style to-value in-nex"(_$"font-family" @fontname @nex_)|)_) ~"bind to"(_@lowercase &" nex"(|~"style:set-style to-value in-nex"(_$"text-transform" $"lowercase" @nex_)|)_) ~"bind to"(_@uppercase &" nex"(|~"style:set-style to-value in-nex"(_$"text-transform" $"uppercase" @nex_)|)_) ~"bind to"(_@get-value-of-style--in-nex &" stylename$ nex"(|~"let be"(_@styletable ~(_style:parse-style-string ~(_get-style-from @nex_)_)_) ~"util:get-value-for-key in-table"(_@stylename @styletable_)|)_) ~"bind to"(_@set-style--to-value--in-nex &" stylename$ styleval$ nex"(|~"let be"(_@styletable ~(_style:parse-style-string ~(_get-style-from @nex_)_)_) ~"let be"(_@newstyletable ~"style:add-key and-value to-style-table"(_@stylename @styleval @styletable_)_) ~"apply-css-style to"(_~"style:style-table as-string"(_@newstyletable_) @nex_)|)_) ~"bind to"(_@parse-style-string &"() stylestring$"(|~"map with"(_~"filter with"(|~"string-split on"(_@stylestring $";"_) &" str"(|~(_not ~(_string-is-empty @str_)_)|)|) &" item"(|~"string-split on"(_@item $":"_)|)_)|)_) ~"bind to"(_@add-key--and-value--to-style-table &" stylename$ styleval$ stylelist()"(|~"table:add-key value to"(|@stylename @styleval ~(_table:remove-entries @stylename @stylelist_)|)|)_) ~"bind to"(_@style-table--as-string &"$ stylemap()"(|~"string-join on"(_~"map with"(_@stylemap &" item"(|~"string-join on"(_@item $":"_)|)_) $";"_)|)_) ~"bind to"(_@copy-style-from--to &" src dst"(|~"apply-css-style to"(_~(_get-style-from @src_) @dst_)|)_)|)