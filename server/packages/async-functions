v2:~(|package @async ~(_bind @repeat &"gen"(|~(_let @inner ~(_gen _)_) ~(_let @next &"n"(|~(_settle @outer_) ~(_let @inner ~(_gen _)_) *"next"(_@inner_) ~(_cram @inner ~(_chomp @outer_)_) [nil]|)_) *"next"(_@inner_) ~(_let @outer ~(_wait @inner_)_) @outer|)_) ~(_bind @sequence &"lst&..."(|~(_let @start [nil]_) ~(_let @outer ~(_wait @start_)_) ~(_let @next &"n"(|~(|if ~(_is-empty @lst_) ~(_finish @outer_) ~(|begin ~(|if ~(_not ~(_eq ~(_car @outer_) @start_)_) ~(_settle @outer_) [nil]|) ~(_let @dv ~(_~(_chop @lst_)_)_) *"next"(_@dv_) ~(_cram @dv ~(_chomp @outer_)_)|)|)|)_) ~(_next [nil]_) @outer|)_)|)