v2:~(|package-named--is @traversal ~(_bind--to @do--for-all-atoms-in &" f& nex"(|~(|first-non-nil ~(_if--then ~(_not ~(_is-list @nex_)_) ~(_f @nex_)_) ~(_if--then ~(_is-expectation @nex_) @nex_) ~(_if--then ~(_is-empty @nex_) @nex_) ~(_if--then !yes ~(|push--into ~(_do--for-all-atoms-in @f ~(_head @nex_)_) ~(_do--for-all-atoms-in @f ~(_tail @nex_)_)|)_)|)|)_) ~(_bind--to @do--for-all-atoms-in--that-satisfy &" nex testf& dof&"(|~(|first-non-nil ~(_if--then ~(_not ~(_is-list @nex_)_) ~(|if--then--else ~(_testf @nex_) ~(_dof @nex_) @nex|)_) ~(_if--then ~(_is-expectation @nex_) @nex_) ~(_if--then ~(_is-empty @nex_) @nex_) ~(_if--then !yes ~(|push--into ~(_do--for-all-items-in--that-satisfy @dof ~(_head @nex_) @testf_) ~(_do--for-all-items-in--that-satisfy @dof ~(_tail @nex_) @testf_)|)_)|)|)_) ~(_bind--to @do--for-all-nexes-in--that-satisfy &" dof& nex testf&"(|~(|first-non-nil ~(_if--then ~(_testf @nex_) ~(_dof @nex_)_) ~(_if--then ~(_not ~(_is-list @nex_)_) @nex_) ~(_if--then ~(_is-expectation @nex_) @nex_) ~(_if--then ~(_is-empty @nex_) @nex_) ~(_if !yes ~(|push--into ~(_util:do--for-all-children-of--that-satisfy @dof ~(_head @nex_) @testf_) ~(_util:do--for-all-children-of--that-satisfy @dof ~(_tail @nex_) @testf_)|)_)|)|)_) ~(_bind--to @--contains-item-satisfying &"! lst() f&"(|~(|reduce--with--given @lst &" item accum()"(|~(|if--then--else ~(_f @item_) !yes @accum|)|) !no|)|)_) ~(_bind--to @--contains-number &"! lst() a#%"(|~(_util:--contains-item-satisfying @lst &"! b#%"(|~(_::eq:: @a @b_)|)_)|)_) ~(_bind--to @get-list-with-members-of--that-satisfy &"() lst() f&"(|~(_filter--with @list @f_)|)_)|)