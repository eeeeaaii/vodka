v2:~(|begin ~(_import @fx-functions_) ~(_import @animation-functions_) ~(_import @math-functions_) ~(_import @writing-functions_) ~(_bind @random-dots &" canv"(|~(_let @w ~"math:random-float-between and"(_#1 #2_)_) ~(_let @which ~(_random _)_) ~(_let @color ~(|if ~(_::lt:: @which %0.3_) (|~"math:random-float-between and"(_#200 #254_) ~"math:random-float-between and"(_#200 #254_) ~"math:random-float-between and"(_#0 #20_)|) (_#255 #255 #255_)|)_) ~(|draw-rectangle @canv @color ~"math:random-float-between and"(_#0 ~(_- #40 @w_)_) ~"math:random-float-between and"(_#0 ~(_- #24 @w_)_) @w @w|)|)_) ~(_bind @do-sand &(|~(_bind @c ~(_make-surface #40 #24_)_) ~(|animation:do-on-every &" n"(|~(_random-dots @n_) @n|) @c #10|)|)_) ~(_bind @format-poem &(|~"style:set-line-height-for to"(|~"style:set-padding-for to"(|~(|style:set-light-font-weight ~"style:set-font-for to"(|~"style:set-font-size-for to"(|~(_poem _) #20|) $"Gill Sans"|)|) #60|) $"1.25"|)|)_) ~(_bind @inset &" n"(|~"style:set-left-padding-for to"(|~"style:set-bottom-padding-for to"(|~"style:set-top-padding-for to"(|~(|style:align-items-end ~"style:set-color-for to"(|~"style:set-font-size-for to"(|~(|style:italicize @n|) #18|) $"#666666"|)|) #32|) #20|) #140|)|)_) ~(_bind @inset2 &" n"(|~"style:set-top-padding-for to"(|~"style:set-left-padding-for to"(|~(|style:italicize ~(|style:set-normal-font-weight @n|)|) #20|) #28|)|)_) ~(_bind @dying-word &" w"(|~"style:set-color-for to"(|@w $"#dddddd"|)|)_) ~(_bind @shatter-words &" words"(|~(|animation:do-on-every &" n"(|~(|layout:do-for-each-letter-or-separator-in &" letter"(|~(_let @n ~(_random _)_) ~(_let @splitsize ~"math:random-float-between and"(_#3 #8_)_) ~(|if ~(_::lt:: @n %0.2_) @letter ~(|if ~(_::lt:: @n %0.6_) ~(_fx:split-letter-horiz @letter @splitsize_) ~(_fx:split-letter-vert @letter @splitsize_)|)|)|) @words|)|) [nil] #50|)|)_) ~(_bind @poem &(|[doc](|[line](_[word](_[letter]"W" [letter]"h" [letter]"y"_) [separator]"," [separator]" " [word](_[letter]"w" [letter]"h" [letter]"e" [letter]"n"_) [separator]" " [word](_[letter]"y" [letter]"o" [letter]"u"_) [separator]" " [word](_[letter]"a" [letter]"r" [letter]"e"_) [separator]" " [word](_[letter]"i" [letter]"n"_) [separator]" " ~(_fx:split-horiz-four-times [line](_[word](_[letter]"s" [letter]"e" [letter]"v" [letter]"e" [letter]"r" [letter]"a" [letter]"l"_) [separator]" " [word](_[letter]"p" [letter]"i" [letter]"e" [letter]"c" [letter]"e" [letter]"s"_)_) #120_)_) [line](_[word](_[letter]"d" [letter]"o"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e" [letter]"y"_) [separator]" " [word](_[letter]"s" [letter]"t" [letter]"i" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"i" [letter]"n" [letter]"s" [letter]"i" [letter]"s" [letter]"t"_) [separator]" " [word](_[letter]"y" [letter]"o" [letter]"u"_) [separator]" " [word](_[letter]"a" [letter]"r" [letter]"e"_) [separator]" " [word](_[letter]"y" [letter]"o" [letter]"u"_) [separator]" " [word](_[letter]"r" [letter]"e" [letter]"a" [letter]"d" [letter]"y"_) [separator]"?"_) ~(|inset [doc](|[line](_[word](_[letter]"B" [letter]"u" [letter]"t"_) [separator]" " [word](_[letter]"a" [letter]"t"_) [separator]" " [word](_[letter]"p" [letter]"e" [letter]"a" [letter]"c" [letter]"e"_) [separator]" " [word](_[letter]"y" [letter]"o" [letter]"u"_) [separator]" " [word](_[letter]"a" [letter]"r" [letter]"e"_) [separator]" " [word](_[letter]"n" [letter]"o" [letter]"w"_) [separator]"," [separator]" " [word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"r" [letter]"e" [letter]"a" [letter]"d" [letter]"y"_) [separator]"."_) [line](_[word](_[letter]"T" [letter]"h" [letter]"e"_) [letter]" " [word](_[letter]"s" [letter]"u" [letter]"n"_) [letter]" " [word](_[letter]"g" [letter]"o" [letter]"e" [letter]"s"_) [letter]" " [word](_[letter]"d" [letter]"o" [letter]"w" [letter]"n"_) [letter]" " ~(_writing:cycle-every [word](_[word](_[letter]"o" [letter]"v" [letter]"e" [letter]"r"_) [word](_[letter]"a" [letter]"n" [letter]"d"_)_) #250_)_) [line](_[word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"g" [letter]"a" [letter]"r" [letter]"g" [letter]"o" [letter]"y" [letter]"l" [letter]"e"_) [separator]" " [word](_[letter]"d" [letter]"o" [letter]"u" [letter]"b" [letter]"t" [letter]"s"_) [separator]" " [word](_[letter]"s" [letter]"i" [letter]"t"_) [separator]" " [word](_[letter]"a" [letter]"r" [letter]"o" [letter]"u" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"y" [letter]"o" [letter]"u" [letter]"r"_) [separator]" " [word](_[letter]"b" [letter]"e" [letter]"d"_) [separator]","_) [line](_~(_writing:cycle-every [line](_[line](_[word](_[letter]"w" [letter]"i" [letter]"t" [letter]"h"_) [letter]" " [word](_[letter]"y" [letter]"o" [letter]"u"_) [letter]" " [word](_[letter]"u" [letter]"n" [letter]"t" [letter]"i" [letter]"l"_) [letter]" " ~(_dying-word [line](_[word](_[letter]"t" [letter]"h" [letter]"e"_) [letter]" " [word](_[letter]"e" [letter]"n" [letter]"d"_)_)_)_) [line](_[word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"a" [letter]"r" [letter]"o" [letter]"u" [letter]"n" [letter]"d"_) [letter]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [letter]" " [word](_[letter]"b" [letter]"e" [letter]"n" [letter]"d"_) [letter]" " ~(_dying-word [line](_[word](_[letter]"i" [letter]"s"_) [letter]" " [word](_[letter]"d" [letter]"e" [letter]"a" [letter]"t" [letter]"h"_)_)_)_)_) #2000_)_)|)|) [line](_[word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"y" [letter]"e" [letter]"t"_) [separator]"?"_) [line](__) [line](_~(_shatter-words [line](_[word](_[letter]"T" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"g" [letter]"l" [letter]"a" [letter]"s" [letter]"s"_) [separator]" " [word](_[letter]"b" [letter]"r" [letter]"o" [letter]"k" [letter]"e" [letter]"n"_) [separator]"," [separator]" " [word](_[letter]"s" [letter]"h" [letter]"a" [letter]"r" [letter]"p"_) [separator]","_)_) [separator]" " [word](_[letter]"s" [letter]"t" [letter]"i" [letter]"l" [letter]"l"_) [separator]" " [word](_[letter]"c" [letter]"u" [letter]"t" [letter]"s"_) [separator]" " [word](_[letter]"y" [letter]"o" [letter]"u" [letter]"r"_) [separator]" " [word](_[letter]"f" [letter]"e" [letter]"e" [letter]"t"_) [separator]"."_) [line](_[word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " ~"style:set-font-size-for to"(_[word](_[letter]"y" [letter]"o" [letter]"u"_) #24_) [separator]" " ~"style:set-font-size-for to"(_[word](_[letter]"s" [letter]"t" [letter]"i" [letter]"l" [letter]"l"_) #28_) [separator]" " ~"style:set-font-size-for to"(_[word](_[letter]"l" [letter]"i" [letter]"v" [letter]"e"_) #32_) [separator]" " [word](_[letter]"t" [letter]"o"_) [separator]" " [word](_[letter]"s" [letter]"p" [letter]"i" [letter]"t" [letter]"e"_) [separator]" " [word](_[letter]"i" [letter]"t"_) [separator]","_) [line](_[word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"s" [letter]"o"_) [separator]" " [word](_[letter]"c" [letter]"l" [letter]"e" [letter]"a" [letter]"r" [letter]"l" [letter]"y"_) [separator]" " [word](_[letter]"y" [letter]"o" [letter]"u"_) [separator]" " [word](_[letter]"s" [letter]"h" [letter]"o" [letter]"u" [letter]"l" [letter]"d"_) [separator]" " [word](_[letter]"g" [letter]"o"_) [separator]"," [separator]" " ~(_writing:cycle-every [doc](|[line](_[word](_[letter]"c" [letter]"l" [letter]"e" [letter]"a" [letter]"r"_) [letter]"-" [word](_[letter]"e" [letter]"y" [letter]"e" [letter]"d"_)_) [line](_[word](_[letter]"h" [letter]"e" [letter]"a" [letter]"d" [letter]"e" [letter]"d"_) [letter]" " [word](_[letter]"o" [letter]"u" [letter]"t"_)_) [line](_[word](_[letter]"h" [letter]"e" [letter]"a" [letter]"d"_) [letter]" " [word](_[letter]"h" [letter]"i" [letter]"g" [letter]"h"_)_) [line](_[word](_[letter]"e" [letter]"y" [letter]"e" [letter]"s"_) [letter]" " [word](_[letter]"a" [letter]"h" [letter]"e" [letter]"a" [letter]"d"_)_)|) #200_) [separator]","_) [line](_[word](_[letter]"S" [letter]"o"_) [separator]":" [separator]" " ~(_writing:cycle-every (_[word](_[letter]"a" [letter]"s" [letter]"s" [letter]"e" [letter]"m" [letter]"b" [letter]"l" [letter]"e"_) [word](_[letter]"a" [letter]"c" [letter]"c" [letter]"u" [letter]"m" [letter]"u" [letter]"l" [letter]"a" [letter]"t" [letter]"e"_)_) #50_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"o" [letter]"d" [letter]"d" [letter]"s"_) [separator]" " [word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"b" [letter]"i" [letter]"t" [letter]"s"_) [separator]"," [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"s" [letter]"c" [letter]"r" [letter]"a" [letter]"p" [letter]"s"_) [separator]" " [word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"e" [letter]"n" [letter]"d" [letter]"s"_) [separator]","_) [line](_[word](_[letter]"i" [letter]"n"_) [separator]" " [word](_[letter]"y" [letter]"o" [letter]"u" [letter]"r"_) [separator]" " [word](_[letter]"r" [letter]"u" [letter]"c" [letter]"k" [letter]"s" [letter]"a" [letter]"c" [letter]"k"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"f" [letter]"l" [letter]"a" [letter]"s" [letter]"h" [letter]"l" [letter]"i" [letter]"g" [letter]"h" [letter]"t"_) [separator]"," [separator]" " [word](_[letter]"i" [letter]"t" [letter]"s"_) [separator]" " [word](_[letter]"b" [letter]"a" [letter]"t" [letter]"t" [letter]"e" [letter]"r" [letter]"y"_) [separator]" " [word](_[letter]"d" [letter]"e" [letter]"a" [letter]"d"_) [separator]","_) [line](_[word](_[letter]"m" [letter]"a" [letter]"t" [letter]"c" [letter]"h" [letter]"b" [letter]"o" [letter]"x" [letter]"e" [letter]"s"_) [separator]"," [separator]" " [word](_[letter]"p" [letter]"a" [letter]"p" [letter]"e" [letter]"r" [letter]"s"_) [separator]"," [separator]" " [word](_[letter]"c" [letter]"h" [letter]"a" [letter]"r" [letter]"g" [letter]"e" [letter]"r" [letter]"s"_) [separator]"," [separator]" " [word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"i" [letter]"n"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"b" [letter]"o" [letter]"t" [letter]"t" [letter]"o" [letter]"m"_) [separator]"," [letter]" " ~(_cram ~(_do-sand _) ~(_cram [word](_[letter]"s" [letter]"a" [letter]"n" [letter]"d"_) (,,)_)_) [letter]","_) [line](_[word](_[letter]"a" [letter]"n" [letter]"d"_)_) ~(|inset2 [doc](|[line](_[word](_[letter]"b" [letter]"r" [letter]"i" [letter]"n" [letter]"g"_) [letter]" " [word](_[letter]"i" [letter]"t"_) [letter]" " [word](_[letter]"a" [letter]"l" [letter]"l"_) [letter]" " [word](_[letter]"t" [letter]"o"_) [letter]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [letter]" " [word](_[letter]"t" [letter]"e" [letter]"m" [letter]"p" [letter]"l" [letter]"e"_) [letter]" " [word](_[letter]"a" [letter]"g" [letter]"a" [letter]"i" [letter]"n"_) [letter]","_) [line](_[word](_[letter]"f" [letter]"a" [letter]"c" [letter]"e"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e"_) [separator]" " [word](_[letter]"h" [letter]"e" [letter]"a" [letter]"v" [letter]"e" [letter]"n" [letter]"s"_) [separator]"," [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e" [letter]"n"_) [separator]" " [word](_[letter]"b" [letter]"o" [letter]"w"_) [separator]","_) [line](_[word](_[letter]"a"_) [separator]" " [word](_[letter]"l" [letter]"i" [letter]"t" [letter]"t" [letter]"l" [letter]"e"_) [separator]" " [word](_[letter]"e" [letter]"m" [letter]"b" [letter]"a" [letter]"r" [letter]"r" [letter]"a" [letter]"s" [letter]"s" [letter]"e" [letter]"d"_) [separator]"," [separator]" " [word](_[letter]"b" [letter]"u" [letter]"t"_) [separator]" " [word](_[letter]"t" [letter]"h" [letter]"e" [letter]"n"_) [separator]","_) [line](_[word](_[letter]"a" [letter]"s" [letter]"k"_) [separator]" " [word](_[letter]"f" [letter]"o" [letter]"r"_) [separator]" " [word](_[letter]"m" [letter]"e" [letter]"r" [letter]"c" [letter]"y"_) [separator]" " [word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"b" [letter]"l" [letter]"i" [letter]"s" [letter]"s"_)_) [line](_[word](_[letter]"w" [letter]"i" [letter]"t" [letter]"h"_) [separator]" " [word](_[letter]"a"_) [separator]" " [word](_[letter]"s" [letter]"t" [letter]"e" [letter]"a" [letter]"d" [letter]"y"_) [separator]" " [word](_[letter]"g" [letter]"a" [letter]"z" [letter]"e"_) [separator]","_) [line](_[word](_[letter]"a" [letter]"n" [letter]"d"_) [separator]" " [word](_[letter]"w" [letter]"a" [letter]"i" [letter]"t"_) [separator]"."_)|)|)|)|)_)|)