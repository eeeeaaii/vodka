v2:~(|begin ~(_import @math-functions_) ~(_import @style-functions_) ~(_bind @square-size #20_) ~(_bind @num-rows #20_) ~(_bind @num-cols #20_) ~(_bind @random-color &(|~(|string-concatenate $"#" ~(_math:hex-string-of ~(_to-integer ~(_::ti:: %256 ~(_random _)_)_)_) ~(_math:hex-string-of ~(_to-integer ~(_::ti:: %256 ~(_random _)_)_)_) ~(_math:hex-string-of ~(_to-integer ~(_::ti:: %256 ~(_random _)_)_)_)|)|)_) ~(_bind @make-square &(|~"style:set-background-color-for to"(|~"style:set-height-for to"(_~"style:set-width-for to"(_(||) @square-size_) @square-size_) ~(_random-color _)|)|)_) ~(_bind @make-row &(|~(_let @make-row-n &" n"(|~(|if ~(_::eq:: @n #0_) [line](__) ~(_cons ~(_make-square _) ~(_make-row-n ~(_- @n #1_)_)_)|)|)_) ~(_make-row-n @num-cols_)|)_) ~(_bind @make-checkerboard &(|~(_let @make-cb-n &" n"(|~(|if ~(_::eq:: @n #0_) [doc](||) ~(_cons ~(_make-row _) ~(_make-cb-n ~(_- @n #1_)_)_)|)|)_) ~(_make-cb-n @num-rows_)|)_)|)